!style_blue{'''The Format fixture takes the current date and places it into the following formats: '''}

!style_blue{'''- yyyy MMM dd'''}
!style_blue{'''- ddMMMyyyy'''}

!style_blue{'''The current date can be adjusted by the plus (+) sign with an integer representing the number of days to give a date in the future or a minus (-)'''}
!style_blue{'''with an integer representing the number of days to give a date in the past.'''}

!style_blue{'''This sample shows you how to use the date as value in a concatentation fixture to create a command to tail the VSRM Event Log for 10 seconds and determine if SnmpMgrGet is present.'''}

!style_red {'''Input Column Descriptions'''}

!style_green {'''date - today or today + or - the number of days from today'''}
!style_green {'''format - format of the date'''}

!style_red {'''Output Column Descriptions'''}

!style_green {'''output - date in the proper format'''} 

!style_blue{'''1. Import package - common to all wiki pages'''}.

|Import          |
|com.comcast.core|

!********> Variables
!define host {10.255.185.174}
!define username {root}
!define password {c0mcast!}
!define BAR {!-|-!}
*************!

!style_blue{'''1. Import package - common to all wiki pages'''}.

|Import          |
|com.comcast.core|

!style_blue{'''2. Format  Date will format today's date in yyyy MMM dd format, tomorrow's date in ddMMMyyyy format and the date two days ago in yyyy MMM dd  '''}

!|FormatDate                  |
|date   |format     |=output? |
|today  |ddMMMyyyy  |todaydate|
|today+1|ddMMMyyyy  |         |
|today-2|yyyy MMM dd|         |


!style_blue{'''3. Build the tail log command using the output from the Format Date fixture and assign to samplelogdataquery uusing the Concatenate String fixture.'''}

!|ConcatenateString                                                                                    |
|string1                       |string2= |string3                        |string4|=ConcatenatedString()|
|tail -f /common/usrm/EventLog/|todaydate|_000000.txt ${BAR} grep SnmpMgr|Get    |samplelogdataquery   |

!style_blue{'''3. Log into the VSRM VM using the Run Command fixture.'''}

!|RunCommand                              |
|host   |username   |password   |connect? |
|${host}|${username}|${password}|connected|

!style_blue{'''4. Run the tail log command using the Run Command Fixture.'''}

!|RunCommand                                          |
|command=          |timeoutinseconds|=output()        |
|samplelogdataquery|10              |SmnpMgrGetResults|

!style_blue{'''5. Perform a search on the output using the Search String fixture.'''}

!|SearchString                              |
|input=           |searchtext|performsearch?|
|SmnpMgrGetResults|SnmpMgrGet|Found         |

!style_blue{'''6. Exit'''}

!|RunCommand    |
|command|output?|
|exit   |       |

