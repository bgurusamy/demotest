!style_blue{'''This sample wiki demonstrates the use fixtures to add and remove Streaming Server data from Tectonic.'''}

!***> Variables
!define man_endpoint_add {http://vtwman-dtw-0201.ula.comcast.net:8080/odrm/StreamingServerConfig/}
!define man_endpoint_del {http://vtwman-dtw-0201.ula.comcast.net:8080/odrm/StreamingServerConfig/}
!define cluster_id {2122016}
!define cluster_name {TestCluster_2_12}
!define mang_address {10.2.12.10:554}
!define peer_group {65005}
!define model_id {Cisco}
!define cluster_policy {VTW DTW General}
!define sop_name {TestSop_2_12}
!define sop_peerGroup {65005 - QA Seachange 99 - PG 05}
!define sop_router_id {ur03.emerald}
!define sop_bandwidth {18000000000}
****!

!4 Add Cluster

!style_red {'''Input Column Descriptions'''}

!style_green {'''clusterId- id of the cluster in Tectonic'''}
!style_green {'''clusterName- name of the cluster in Tectonic'''}
!style_green {'''mangAddress- management Address of the cluster in Tectonic'''}
!style_green {'''peerGroup- peergroup of the cluster in Tectonic'''}
!style_green {'''modelId- model id of the cluster in Tectonic'''}
!style_green {'''streamingClusterPolicy- Streaming cluster of the cluster in Tectonic'''}

!style_red {'''Output Column Descriptions'''}

!style_green {'''!-addClusterDetails()-! - Indicates whether the cluster is created.'''}

!4 Add Sop

!style_red {'''Input Column Descriptions'''}

!style_green {'''sopName- name of the Sop in Tectonic'''}
!style_green {'''sopBandwidth- band width of the Sop in Tectonic'''}
!style_green {'''routerId- router id of the Sop in Tectonic'''}
!style_green {'''peerGroup- peergroup of the Sop in Tectonic'''}

!style_red {'''Output Column Descriptions'''}

!style_green {'''!-addSopDetails()-! - Indicates whether the sop is created.'''}

!4 Delete Sop

!style_red {'''Input Column Descriptions'''}

!style_green {'''sopName- name of the Sop in Tectonic'''}
!style_green {'''clusterId- id of the cluster in Tectonic'''}

!style_red {'''Output Column Descriptions'''}

!style_green {'''!-DeleteAddedSOP()-! - Indicates whether the sop is deleted.'''}

!4 Delete Cluster

!style_red {'''Input Column Descriptions'''}

!style_green {'''clusterId- id of the cluster in Tectonic'''}

!style_red {'''Output Column Descriptions'''}

!style_green {'''!-DeleteAddedCluster()-! - Indicates whether the cluster is deleted.'''}

!style_red{'''Please complete installation of chrome driver in order to run the Tectonic tests successfully. If the instructions are not followed, the test will fail.'''}
!style_red{'''Installation details for chrome driver:  ChromeDriverInstallationAndSetup'''}

!style_red {'''Note: The below selenium jar needs to be included for all the pages that needs to be executed through selenium'''}

!path selenium-server-standalone-2.48.2.jar

!style_blue{'''1. Import package - common to all wiki pages which are application specific'''}.

!path dbfit-lib/*.jar
!| dbfit.MySqlTest|

|Import          |
|com.comcast.core|
|com.comcast.apps.api.ramsden|                           
|com.comcast.apps.seleniumui.tectonic|

!style_blue{'''2. Open up the Tectonic URL and verify whether the page gets rendered.'''}

!|AccessTectonicUrl                            |
|url                            |IsPageLoaded()|
|http://tectonic.ula.comcast.net|true          |

!style_blue{'''3. Login to Tectonic URL with user name and password and verify whether the login is successful.'''}

!|LoginToTectonic                         |
|username  |password  |IsLoginSuccessful()|
|athamb001c|Aberjy21|yes                |

!style_blue{'''4. Add a cluster in the Tectonic using the !-AddCluster-! fixture.'''}

!|AddCluster|
|clusterId|clusterName|mangAddress|peerGroup|modelId|streamingClusterPolicy|addClusterDetails()  |
|     ${cluster_id}|  ${cluster_name}|${mang_address}   | ${peer_group}|${model_id}|${cluster_policy}|yes|

!style_blue{'''5. Add a SOP for the above cluster in the Tectonic using the !-AddSop-! fixture.'''}

!|AddSop|
|clusterId|sopName|sopBandwidth|routerId|peerGroup|addSopDetails()  |
|    ${cluster_id}    |  ${sop_name}|${sop_bandwidth}  |${sop_router_id}|${sop_peerGroup}|yes|

!style_blue{'''6. Delete SOP for the above created cluster in the Tectonic using the !-DeleteSop-! fixture.'''}

!|DeleteSop|
|clusterId|sopName|DeleteAddedSop()  |
|    ${cluster_id}    |  ${sop_name}|yes|

!style_blue{'''7. Delete cluster in the Tectonic using the !-DeleteCluster-! Fixture.'''}

!|DeleteCluster|
|clusterId|DeleteAddedCluster()  |
|    ${cluster_id}   |yes|

!style_blue{'''8. Logout and close Tectonic and verify if it is successful.'''}

!|LogoutOfTectonic   |
|isLogoutSuccessful()|
|yes                 |
