!style_blue{'''The following fixtures used in this sample allow you to edit VCP Third Party Services.'''}

!style_blue{'''- Change the Third party service endpoint IPs.'''}
!style_blue{'''- Change the status of Third party services.'''}
!style_blue{'''- Verify the service end points and service  status.'''}

!style_red{'''Note: When using this fixture - please make sure that any changes to service state or endpoints are cleaned up after the test runs.'''} 
!style_red{'''If clean up is not performed, this will impact other tests (either manual or automated).'''}

!style_blue{'''!-ConnectVCPManagementServer-!'''}

!style_red{'''Input Column Descriptions'''}

!style_green{'''wsdl - The wsdl end point to which the connection needs to be established'''}
!style_green{'''Currently supported version values are 3.9 (production version)'''}

!style_red {'''Output Column Descriptions'''}

!style_green{'''isSuccessful - turns true if the connection is successful'''}

!style_blue{'''!-GetThirdPartyServiceStatus-!'''}

!style_red{'''Input Column Descriptions'''}

!style_green{'''service - Name of the third party service'''}

!style_red {'''Output Column Descriptions'''}

!style_green{'''serviceState - state of the service !-INSERVICE or OUTOFSERVICE-!'''}
!style_green{'''ip - IP or FQDN of the third party service'''}
!style_green{'''port - port number of the third party service'''}
!style_green{'''type - product type of the third party service'''}
!style_green{'''location - the location of the third party service'''}

!style_blue{'''!-ChangeThirdPartyServiceStatus-!'''}

!style_red{'''Input Column Descriptions'''}

!style_green{'''service - Name of the third party service'''}
!style_green{'''serviceState - state of the service !-INSERVICE or OUTOFSERVICE-!'''}

!style_red {'''Output Column Descriptions'''}

!style_green{'''isServiceStatusChanged - returns true or false based on success of change'''}

!style_blue{'''!-UpdateThirdPartyServiceInfo-!'''}

!style_red{'''Input Column Descriptions'''}

!style_green{'''service - name of the service'''}
!style_green{'''service_type - component associated with the service'''}
!style_green{'''service_ip - endpoint associated with the service'''}
!style_green{'''service_port - port associated with the service'''}
!style_green{'''service_location - location associated with the service'''}
!style_green{'''service_state - state service is in'''}

!style_red {'''Output Column Descriptions'''}

!style_green{'''isServiceUpdated - turns true or false based on success of update'''}

----
!style_blue{'''1. Import package - specific to bni'''}.

|Import                                    |
|com.comcast.apps.api.bni.thirdpartyservice|
|com.comcast.core                          |

!style_blue{'''2. The !-ConnectVCPManagementServer-! fixture establishes the connection with the BNI web services and returns whether the connection is successful .'''}

!|ConnectVCPManagementServerForThirdpartyservices                                     |
|wsdl                                                                  |isSuccessful()|
|http://vcpu1man-dt-a01q.ula.comcast.net:8080/topology-mgmt/device?wsdl|              |

!style_blue{'''3. The !-ChangeThirdPartyServiceStatus-! fixture allows you to change the state of the service (placing it in or out of service in VCP.)'''}

!|ChangeThirdPartyServiceStatus               |
|service|serviceState|isServiceStatusChanged()|
|PLEX_QA|INSERVICE   |true                    |

!style_blue{'''4. The !-GetThirdPartyServicesStatusDemo-! fixture returns the state and configuration information for the service.'''}

!|GetThirdPartyServiceStatus                         |
|service|serviceState()|ip()|port()|type()|location()|
|PLEX_QA|INSERVICE  |    |      |      |          |


!style_blue{'''5. The !-GetThirdPartyServiceStatus-! fixture is used with the !-ChangeThirdPartyServiceStatus-! to verify whether the service status is updated .'''}

!|GetThirdPartyServiceStatus                         |
|service|serviceState()|ip()|port()|type()|location()|
|PLEX_QA|INSERVICE     |    |      |      |          |

!style_blue{'''6. The !-UpdateThirdPartyServiceInfo-! fixture is used to change the configuration of a service in VCP.'''}

!|UpdateThirdPartyServiceInfo                                                                      |
|service|service_type|service_ip    |service_port|service_location|service_State|isServiceUpdated()|
|PLEX_QA|ADS         |172.24.234.142|80          |                |INSERVICE    |true              |
#|ATF_UDB_Simulator |UDB         |10.255.134.178|80          |                |OUTOFSERVICE |true              |
#|ATF_DW_Simulator  |DW          |10.255.134.178|80          |                |OUTOFSERVICE |true              |
#|ATF_CEMP_Simulator|CEMP        |10.255.134.178|80          |                |OUTOFSERVICE |true              |
#|PLE_QA            |ADS         |172.24.234.142|80          |                |OUTOFSERVICE |true              |

!style_blue{'''7. Verify whether the service is updated with the parameters specified.'''}

!|GetThirdPartyServiceStatus                         |
|service|serviceState()|ip()|port()|type()|location()|
|PLEX_QA|INSERVICE     |    |      |      |          |

!style_blue{'''8. Remember to clean up any changes to third party services at the end of tests.'''}

!|UpdateThirdPartyServiceInfo                                                                      |
|service|service_type|service_ip    |service_port|service_location|service_State|isServiceUpdated()|
|PLEX_QA|ADS         |172.24.234.142|8080        |                |OUTOFSERVICE |true              |

!|AddDelay                  |
|time|delay?                |
|60  |delayed for 60 seconds|

!|GetThirdPartyServiceStatus                          |
|service |serviceState()|ip()|port()|type()|location()|
|PLEX_QA|OUTOFSERVICE  |    |8080  |      |          |
#|ATF_CEMP_Simulator|OUTOFSERVICE  |    |8080  |      |          |
#|PLE_Simulator     |OUTOFSERVICE  |    |8080  |      |          |
